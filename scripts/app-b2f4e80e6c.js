(function(){angular.module("homemademessClient",["ngCookies","ngSanitize","ngAria","ngResource","ui.router","akoenig.deckgrid","ngMaterial","ngDropzone","ngTagsInput","ngLodash"]).filter("taglink",function(){return function(e){return e.replace(/\s/g,"_")}})}).call(this),function(){"use strict";angular.module("homemademessClient").directive("slideshow",function(){var e,t;return t=["$scope","$mdDialog","$stateParams","$state","$document",function(e,t,a,n,i){return e.open=!1,e.transition=!1,i.bind("keyup",function(t){var i;if(a.slide&&e.open&&!e.transition)switch(i=Number(a.slide),t.which){case 39:if(e.slides.length>i+1)return n.go(n.current,{slide:i+1});break;case 37:if(i-1>-1)return n.go(n.current,{slide:i-1});break;case 38:return n.go(n.current,{slide:0});case 40:return n.go(n.current,{slide:e.slides.length-1})}}),e.$on("$locationChangeSuccess",function(t){return e.updateShowState()}),e.$watch("slides",function(t,a){return!t||a||e.open?void 0:e.updateShowState()}),e.updateShowState=function(){return!e.open&&a.slide&&e.slides[a.slide]?(e.open=!0,e.showSlide(a.slide)):void 0},e.showSlide=function(a){return a=Number(a),t.show({clickOutsideToClose:!0,locals:{i:a,img:e.slides[a].derivative[2].uri,label:e.slides[a].filename},scope:e,preserveScope:!0,onRemoving:function(){return e.open=!1},template:'<md-dialog aria-label="{{label}}" class="slide" ng-class="{loading: transition}">  <md-dialog-content>     <img ng-src="{{img}}" class="img-responsive" ng-class="imgclasses" />     <div class="loading-spinner"></div>  </md-dialog-content></md-dialog>',controller:["$scope","$mdDialog","$stateParams","i","img","label",function(e,t,a,n,i,s){return e.i=n,e.img=i,e.label=s,e.imgclasses={},e.$on("$locationChangeSuccess",function(t){return a.slide?e.update(a.slide):void 0}),e.update=function(t){var a,n;return e.transition=!0,n=e.slides[t].derivative[2].uri,a=new Image,a.onload=function(){return e.imgclasses=e.toggleClass(Number(t)),e.i=Number(t),e.img=n,e.label=e.slides[t].filename,e.transition=!1,e.$digest()},a.src=n},e.toggleClass=function(t){var a;switch(a={up:!1,down:!1,left:!1,leftagain:!1,right:!1,rightagain:!1},!1){case!(t<e.i&&e.i-t>1&&0===t):a.up=!0;break;case!(t>e.i&&t-e.i>1&&t===e.slides.length-1):a.down=!0;break;case!(t<e.i&&e.i-t===1):e.imgclasses.left?a.leftagain=!0:a.left=!0;break;case!(t>e.i&&t-e.i===1):e.imgclasses.right?a.rightagain=!0:a.right=!0}return a}}]}).then(null,function(){return n.go(n.$current.parent)})}}],e={restrict:"E",controller:t,scope:{slides:"="}}})}.call(this),function(){"use strict";angular.module("homemademessClient").directive("searchbar",function(){var e,t;return e=["$scope","$resource","lodash","$q","$location","apiUrl",function(e,t,a,n,i,s){var r,l;return e.tags=[],e.isActive=function(e){return e===i.path()},e.mapTags=function(e){return a.uniq(a.map(e,"_id"))},l=t(s+"/images"),e.redoSearch=function(){return l.get({tags:e.mapTags(e.tags)},function(t){return e.view.images=t.images})},r=t(s+"/auto"),e.findTags=function(e){return r.query({q:e}).$promise}}],t={restrict:"E",templateUrl:"app/components/searchbar/searchbar.html",controller:e}})}.call(this),function(){"use strict";angular.module("homemademessClient").controller("MainCtrl",["$scope","$http","$stateParams","apiUrl","$state","$document",function(e,t,a,n,i,s){var r;return e.view={},a.tag?(r=n+"/tagged/"+a.tag,e.containerClass="tagged",e.tag=a.tag.replace(/_/g," ")):(r=n+"/images",e.containerClass="main"),t.get(r).success(function(t){return e.view.images=t.images,e.view.tags=t.tags,e.view.offset=0}),e.aspect=function(e,t){var a,n,i,s;return a=Math.round(e.width/e.height*100)/100,1>a?(i=function(){switch(!1){case!(.5>a):return 8;case!(.25>a):return 6;case!(.25>a):return 4;default:return 12}}(),s=Math.round(i*e.height/e.width)):(s=function(){switch(!1){case!(a>1.51):return 12;case!(a>2):return 16;case!(a>3):return 24;default:return 8}}(),i=Math.round(s*a)),n=[i,s],n[t]}}])}.call(this),function(){angular.module("homemademessClient").run(["$log",function(e){"ngInject";return e.debug("runBlock end")}])}.call(this),function(){angular.module("homemademessClient").config(["$stateProvider","$urlRouterProvider",function(e,t){"ngInject";return e.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainCtrl",controllerAs:"main"}).state("home.slide",{url:"slide/:slide",templateUrl:"app/main/main.html",controller:"MainCtrl"}).state("tagged",{url:"/tagged/:tag/",templateUrl:"app/main/main.html",controller:"MainCtrl"}).state("tagged.slide",{url:"/tagged/:tag/slide/:slide",templateUrl:"app/main/main.html",controller:"MainCtrl"}),t.otherwise("/")}])}.call(this),function(){angular.module("homemademessClient").constant("apiUrl","http://api.homemademess.com")}.call(this),function(){angular.module("homemademessClient").config(["$logProvider",function(e){"ngInject";return e.debugEnabled(!0)}])}.call(this),angular.module("homemademessClient").run(["$templateCache",function(e){e.put("app/main/main.old.html",'<div layout="vertical" layout-fill=""><md-content><header><acme-navbar creation-date="main.creationDate"></acme-navbar></header><section class="jumbotron"><h1>\'Allo, \'Allo!</h1><p class="lead"><img src="assets/images/yeoman.png" alt="I\'m Yeoman"><br>Always a pleasure scaffolding your apps.</p><md-button class="md-raised animated infinite" ng-class="main.classAnimation" ng-click="main.showToastr()">Splendid Toastr</md-button><p>With â™¥ thanks to the contributions of<acme-malarkey extra-values="[\'Yeoman\', \'Gulp\', \'Angular\']"></acme-malarkey></p></section><div class="techs" layout-align="center"><md-card ng-repeat="awesomeThing in main.awesomeThings | orderBy:\'rank\'"><md-card-content><img class="pull-right" ng-src="assets/images/{{ awesomeThing.logo }}" alt="{{ awesomeThing.title }}"><h3 class="md-title">{{ awesomeThing.title }}</h3><p>{{ awesomeThing.description }}</p></md-card-content><div class="md-action-buttons"><md-button ng-href="{{ awesomeThing.url }}">Website</md-button></div></md-card></div></md-content></div>'),e.put("app/main/main.html",'<div ng-class="containerClass" class="container main"><h1>{{tag}}</h1><searchbar></searchbar><md-grid-list md-cols-sm="12" md-cols-md="24" md-cols-lg="48" md-cols-gt-lg="60" md-row-height="1:1" md-gutter="5px"><md-grid-tile ng-repeat="(n, image) in view.images" md-colspan="{{aspect(image,0)}}" md-rowspan="{{aspect(image,1)}}"><div class="img-container"><a ui-sref="home.slide({slide: n})"><img src="{{image.derivative[0].uri}}" class="img-responsive"></a></div></md-grid-tile></md-grid-list><slideshow slides="view.images"></slideshow><footer class="footer"><div class="container"><p>homemademess.com | <a href="https://github.com/markisatacomputer/homemademess">github</a></p></div></footer></div>'),e.put("app/components/searchbar/searchbar.html",'<div ng-class="{home: isActive(\'/\')}" class="navvy"><div id="search"><tags-input ng-model="tags" template="tag-temp.html" title="Tags" placeholder="search by tag" replace-spaces-with-dashes="false" on-tag-added="redoSearch()" on-tag-removed="redoSearch()" ng-show="isActive(\'/\')"><auto-complete source="findTags($query)" min-length="1"></auto-complete></tags-input><script type="text/ng-template" id="tag-temp.html"><span><a ng-bind="$getDisplayText()" ui-sref="tagged({ tag : \'{{ data[\'text\'] | taglink }}\' })"></a></span><a ng-click="$removeTag()" ng-bind="::$$removeTagSymbol" class="remove-button"></a></script></div></div>')}]);
//# sourceMappingURL=../maps/scripts/app-b2f4e80e6c.js.map